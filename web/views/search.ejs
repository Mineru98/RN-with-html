<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <script>
        function move(page) {
            const item = JSON.stringify({
                "type": "MOVE",
                "data": page
            })
            window.ReactNativeWebView.postMessage(item);
        }

        const listener = (event) => {
            let data, type;
            try {
                const item = JSON.parse(event.data);
                data = item.data;
                type = item.type;
            } catch (_) {
                const item = event.data;
                data = item.data;
                type = item.type;
            }
            switch (type) {
                case "MOVE":
                    const li = document.createElement("li");
                    li.innerText = data;
                    const target = document.getElementById('content');
                    target.appendChild(li);
            }
        };
        // Android
        document.addEventListener('message', listener);
        // IOS
        window.addEventListener('message', listener);
    </script>
</head>

<body>
    <h1>Welcome <%= title %></h1>
    <ul id="content"></ul>
    <div>
        <button onclick="move('home')">홈</button>
        <button onclick="move('search')">검색</button>
        <button onclick="move('likes')">좋아요</button>
        <button onclick="move('setting')">설정</button>
    </div>
</body>

</html>